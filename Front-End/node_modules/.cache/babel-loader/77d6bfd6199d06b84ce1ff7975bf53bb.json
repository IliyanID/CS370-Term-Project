{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Iliyan\\\\Desktop\\\\project\\\\src\\\\Containers\\\\App.js\";\nimport React, { PureComponent, Fragment } from 'react';\nimport AuthContext from '../Context/authContext';\nimport UserContext from '../Context/userContext';\nimport LoginBox from '../Components/LoginBox';\nimport LoggedIn from './LoggedIn';\nimport './App.css';\nconst debug = true;\n\nclass App extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userCredentials: [\"\", \"\"],\n      tabs: [{\n        name: \"All Inventory\",\n        classes: \"itemTab selectedItem\"\n      }, {\n        name: \"Search\",\n        classes: \"itemTab\"\n      }, {\n        name: \"Item\",\n        classes: \"itemTab\"\n      }],\n      authenticated: false,\n      currentSearch: [\"\"]\n    };\n\n    this.authenticateUser = logout => {\n      if (debug) console.log(\"Entered authenticateUser\");\n      var xhr = new XMLHttpRequest();\n      let requestURL = window.location.href + '/user?userName=' + this.state.userCredentials[0] + '&passWord=' + this.state.userCredentials[1];\n      xhr.addEventListener('load', () => {\n        if (xhr.responseText === 'true' || logout === true || debug === true) this.setState({\n          authenticated: !this.state.authenticated\n        });\n        if (debug) console.log(\"Request URL: \" + requestURL + \"\\nRequest Responese: \" + xhr.responseText);\n      });\n      xhr.open('GET', requestURL);\n      xhr.send();\n    };\n\n    this.updateCred = (value, credSelector) => {\n      const index = credSelector === \"username\" ? 0 : 1;\n      var tempUserCredentials = [this.state.userCredentials[0], this.state.userCredentials[1]];\n      tempUserCredentials[index] = value;\n      this.setState({\n        userCredentials: tempUserCredentials\n      });\n      if (debug) console.log(\"CredSelector: \" + credSelector + \" Value: \" + value);\n    };\n\n    this.updateSelectedTab = index => {\n      let tabs = [{\n        name: \"All Inventory\",\n        classes: \"itemTab\"\n      }, {\n        name: \"Search\",\n        classes: \"itemTab\"\n      }, {\n        name: \"Item\",\n        classes: \"itemTab\"\n      }];\n      let selectedTab = { ...tabs[index]\n      };\n      selectedTab.classes += \" selectedItem\";\n      tabs[index] = selectedTab;\n      this.setState({\n        tabs: tabs\n      });\n    };\n\n    this.updateSearch = event => {\n      this.setState({\n        currentSearch: event.target.value.toLowerCase().split(\" \")\n      });\n      if (debug) console.log(\"Current Search: \" + this.state.currentSearch);\n    };\n  }\n\n  render() {\n    let item = null;\n    if (this.state.authenticated) item = /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n      value: {\n        logout: this.authenticateUser,\n        itemTab: this.updateSelectedTab,\n        updateSearch: this.updateSearch,\n        tabs: this.state.tabs,\n        currentSearch: this.state.currentSearch\n      },\n      children: /*#__PURE__*/_jsxDEV(LoggedIn, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this);else item = /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        authenticated: this.state.authenticated,\n        updateCred: this.updateCred,\n        authenticateUser: this.authenticateUser\n      },\n      children: /*#__PURE__*/_jsxDEV(LoginBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this);\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Iliyan/Desktop/project/src/Containers/App.js"],"names":["React","PureComponent","Fragment","AuthContext","UserContext","LoginBox","LoggedIn","debug","App","state","userCredentials","tabs","name","classes","authenticated","currentSearch","authenticateUser","logout","console","log","xhr","XMLHttpRequest","requestURL","window","location","href","addEventListener","responseText","setState","open","send","updateCred","value","credSelector","index","tempUserCredentials","updateSelectedTab","selectedTab","updateSearch","event","target","toLowerCase","split","render","item","itemTab"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from 'react';\nimport AuthContext from '../Context/authContext';\nimport UserContext from '../Context/userContext'\n\nimport LoginBox from '../Components/LoginBox';\nimport LoggedIn from './LoggedIn';\n\nimport './App.css'\nconst debug = true;\n\nclass App extends PureComponent{\n  state = {\n    userCredentials:[\"\",\"\"],\n    tabs: [\n      {name: \"All Inventory\", classes: \"itemTab selectedItem\"},\n      {name: \"Search\", classes: \"itemTab\"},\n      {name: \"Item\", classes: \"itemTab\"}\n    ],\n    authenticated: false,\n    currentSearch:[\"\"]\n  }\n\n  authenticateUser = (logout) =>{\n    if(debug)\n      console.log(\"Entered authenticateUser\");\n\n    var xhr = new XMLHttpRequest()\n    let requestURL = (window.location.href +'/user?userName='+ this.state.userCredentials[0] + '&passWord=' + this.state.userCredentials[1]);\n\n    xhr.addEventListener('load', () => {\n        if(xhr.responseText === 'true' || logout === true || debug === true)\n          this.setState({authenticated:!this.state.authenticated})\n        if(debug)\n          console.log(\"Request URL: \" + requestURL + \"\\nRequest Responese: \" + xhr.responseText);\n    })\n    \n    xhr.open('GET', requestURL);\n    xhr.send()\n  }\n\n  updateCred = (value,credSelector) =>{\n      const index = (credSelector === \"username\") ? 0 : 1;\n      var tempUserCredentials = [this.state.userCredentials[0],this.state.userCredentials[1]];\n      tempUserCredentials[index] = value;\n      this.setState({userCredentials:tempUserCredentials});\n\n      if(debug)\n        console.log(\"CredSelector: \" + credSelector + \" Value: \" + value);   \n  \n\n    \n  }\n\n  updateSelectedTab = (index) =>{\n    let tabs = [\n      {name: \"All Inventory\", classes: \"itemTab\"},\n      {name: \"Search\", classes: \"itemTab\"},\n      {name: \"Item\", classes: \"itemTab\"}\n    ];\n    let selectedTab = {...tabs[index]};\n    selectedTab.classes += (\" selectedItem\");\n    \n    tabs[index] = selectedTab;\n\n    this.setState({tabs:tabs});\n  }\n\n  updateSearch = (event) =>{\n    this.setState({currentSearch:event.target.value.toLowerCase().split(\" \")});\n    if(debug)\n      console.log(\"Current Search: \" + this.state.currentSearch);\n  }\n\n  render(){\n    let item = null\n    if(this.state.authenticated)\n      item = (\n        <UserContext.Provider value = {\n          {logout : this.authenticateUser,\n          itemTab : this.updateSelectedTab,\n          updateSearch : this.updateSearch,\n          tabs : this.state.tabs,\n          currentSearch : this.state.currentSearch}}>\n              \n            <LoggedIn/>\n\n        </UserContext.Provider>);\n    \n    else     \n      item = (\n        <AuthContext.Provider value = {\n          {authenticated : this.state.authenticated,\n          updateCred : this.updateCred,\n          authenticateUser : this.authenticateUser}}>\n            \n            <LoginBox/> \n\n        </AuthContext.Provider>);\n\n    return(\n      <Fragment>\n        {item}\n      </Fragment>\n    );\n\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from\"C:/Users/Iliyan/Documents/GitHub/CS370-Term-Project/Front-End/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/Iliyan/Documents/GitHub/CS370-Term-Project/Front-End/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Iliyan/Documents/GitHub/CS370-Term-Project/Front-End/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Iliyan/Documents/GitHub/CS370-Term-Project/Front-End/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Iliyan/Documents/GitHub/CS370-Term-Project/Front-End/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{PureComponent,Fragment}from'react';import AuthContext from'../Context/authContext';import UserContext from'../Context/userContext';import LoginBox from'../Components/LoginBox';import LoggedIn from'./LoggedIn';import'./App.css';var debug=false;var App=/*#__PURE__*/function(_PureComponent){_inherits(App,_PureComponent);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={userCredentials:[\"\",\"\"],tabs:[{name:\"All Inventory\",classes:\"itemTab selectedItem\"},{name:\"Search\",classes:\"itemTab\"},{name:\"Item\",classes:\"itemTab\"}],UserToken:{authenticated:false,userToken:\"\"},currentSearch:[\"\"]};_this.authenticateUser=function(logout){var url=window.location.href+\"/authenticateUser\";if(debug){url=\"http://10.0.0.108:8080/authenticateUser\";console.log(\"Entered authenticateUser\");}console.log(url);var Http=new XMLHttpRequest();Http.open(\"POST\",url,false);Http.setRequestHeader(\"Content-Type\",\"application/json;charset=UTF-8\");var cred={username:_this.state.userCredentials[0],password:_this.state.userCredentials[1]};Http.send();Http.onreadystatechange=function(e){console.log(Http.response);};/*\r\n    var xhr = new XMLHttpRequest()\r\n    let requestURL = (window.location.href +'/user?userName='+ this.state.userCredentials[0] + '&passWord=' + this.state.userCredentials[1]);\r\n\r\n    xhr.addEventListener('load', () => {\r\n        if(xhr.responseText === 'true' || logout === true || debug === true)\r\n          console.log(xhr.json());\r\n          this.setState({UserToken:xhr.json(),\r\n          userCredentials:[\"\",\"\"],\r\n          tabs: [\r\n            {name: \"All Inventory\", classes: \"itemTab selectedItem\"},\r\n            {name: \"Search\", classes: \"itemTab\"},\r\n            {name: \"Item\", classes: \"itemTab\"}\r\n          ],\r\n        currentSearch:[\"\"]});\r\n\r\n        if(debug)\r\n          console.log(\"Request URL: \" + requestURL + \"\\nRequest Responese: \" + xhr.responseText);\r\n    })\r\n    \r\n    xhr.open('GET', requestURL);\r\n    xhr.send()*/};_this.updateCred=function(value,credSelector){var index=credSelector===\"username\"?0:1;var tempUserCredentials=[_this.state.userCredentials[0],_this.state.userCredentials[1]];tempUserCredentials[index]=value;_this.setState({userCredentials:tempUserCredentials});if(debug)console.log(\"CredSelector: \"+credSelector+\" Value: \"+value);};_this.updateSelectedTab=function(index){var tabs=[{name:\"All Inventory\",classes:\"itemTab\"},{name:\"Search\",classes:\"itemTab\"},{name:\"Item\",classes:\"itemTab\"}];var selectedTab=_objectSpread({},tabs[index]);selectedTab.classes+=\" selectedItem\";tabs[index]=selectedTab;_this.setState({tabs:tabs});};_this.updateSearch=function(event){_this.setState({currentSearch:event.target.value.toLowerCase().split(\" \")});if(debug)console.log(\"Current Search: \"+_this.state.currentSearch);};return _this;}_createClass(App,[{key:\"render\",value:function render(){var item=null;if(this.state.UserToken.authenticated)item=/*#__PURE__*/_jsx(UserContext.Provider,{value:{logout:this.authenticateUser,itemTab:this.updateSelectedTab,updateSearch:this.updateSearch,tabs:this.state.tabs,currentSearch:this.state.currentSearch},children:/*#__PURE__*/_jsx(LoggedIn,{})});else item=/*#__PURE__*/_jsx(AuthContext.Provider,{value:{authenticated:this.state.UserToken.authenticated,updateCred:this.updateCred,authenticateUser:this.authenticateUser},children:/*#__PURE__*/_jsx(LoginBox,{})});return/*#__PURE__*/_jsx(Fragment,{children:item});}}]);return App;}(PureComponent);export default App;","map":{"version":3,"sources":["C:/Users/Iliyan/Documents/GitHub/CS370-Term-Project/Front-End/src/Containers/App.js"],"names":["React","PureComponent","Fragment","AuthContext","UserContext","LoginBox","LoggedIn","debug","App","state","userCredentials","tabs","name","classes","UserToken","authenticated","userToken","currentSearch","authenticateUser","logout","url","window","location","href","console","log","Http","XMLHttpRequest","open","setRequestHeader","cred","username","password","send","onreadystatechange","e","response","updateCred","value","credSelector","index","tempUserCredentials","setState","updateSelectedTab","selectedTab","updateSearch","event","target","toLowerCase","split","item","itemTab"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from 'react';\r\nimport AuthContext from '../Context/authContext';\r\nimport UserContext from '../Context/userContext'\r\n\r\nimport LoginBox from '../Components/LoginBox';\r\nimport LoggedIn from './LoggedIn';\r\n\r\nimport './App.css'\r\nconst debug = false;\r\n\r\nclass App extends PureComponent{\r\n  state = {\r\n    userCredentials:[\"\",\"\"],\r\n    tabs: [\r\n      {name: \"All Inventory\", classes: \"itemTab selectedItem\"},\r\n      {name: \"Search\", classes: \"itemTab\"},\r\n      {name: \"Item\", classes: \"itemTab\"}\r\n    ],\r\n    UserToken:{authenticated:false,userToken:\"\"},\r\n    currentSearch:[\"\"]\r\n  }\r\n\r\n  authenticateUser = (logout) =>{\r\n    let url = window.location.href + \"/authenticateUser\";\r\n    if(debug){\r\n      url = \"http://10.0.0.108:8080/authenticateUser\"\r\n      console.log(\"Entered authenticateUser\");\r\n    }\r\nconsole.log(url);\r\n\r\n      const Http = new XMLHttpRequest();\r\n      Http.open(\"POST\", url,false);\r\n      Http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n\r\n      let cred = {username:this.state.userCredentials[0],password:this.state.userCredentials[1]};\r\n      Http.send();\r\n      \r\n      Http.onreadystatechange = (e) => {\r\n        console.log(Http.response);\r\n      }\r\n\r\n    \r\n/*\r\n    var xhr = new XMLHttpRequest()\r\n    let requestURL = (window.location.href +'/user?userName='+ this.state.userCredentials[0] + '&passWord=' + this.state.userCredentials[1]);\r\n\r\n    xhr.addEventListener('load', () => {\r\n        if(xhr.responseText === 'true' || logout === true || debug === true)\r\n          console.log(xhr.json());\r\n          this.setState({UserToken:xhr.json(),\r\n          userCredentials:[\"\",\"\"],\r\n          tabs: [\r\n            {name: \"All Inventory\", classes: \"itemTab selectedItem\"},\r\n            {name: \"Search\", classes: \"itemTab\"},\r\n            {name: \"Item\", classes: \"itemTab\"}\r\n          ],\r\n        currentSearch:[\"\"]});\r\n\r\n        if(debug)\r\n          console.log(\"Request URL: \" + requestURL + \"\\nRequest Responese: \" + xhr.responseText);\r\n    })\r\n    \r\n    xhr.open('GET', requestURL);\r\n    xhr.send()*/\r\n  }\r\n\r\n  updateCred = (value,credSelector) =>{\r\n      const index = (credSelector === \"username\") ? 0 : 1;\r\n      var tempUserCredentials = [this.state.userCredentials[0],this.state.userCredentials[1]];\r\n      tempUserCredentials[index] = value;\r\n      this.setState({userCredentials:tempUserCredentials});\r\n\r\n      if(debug)\r\n        console.log(\"CredSelector: \" + credSelector + \" Value: \" + value);   \r\n  \r\n\r\n    \r\n  }\r\n\r\n  updateSelectedTab = (index) =>{\r\n    let tabs = [\r\n      {name: \"All Inventory\", classes: \"itemTab\"},\r\n      {name: \"Search\", classes: \"itemTab\"},\r\n      {name: \"Item\", classes: \"itemTab\"}\r\n    ];\r\n    let selectedTab = {...tabs[index]};\r\n    selectedTab.classes += (\" selectedItem\");\r\n    \r\n    tabs[index] = selectedTab;\r\n\r\n    this.setState({tabs:tabs});\r\n  }\r\n\r\n  updateSearch = (event) =>{\r\n    this.setState({currentSearch:event.target.value.toLowerCase().split(\" \")});\r\n    if(debug)\r\n      console.log(\"Current Search: \" + this.state.currentSearch);\r\n  }\r\n\r\n  render(){\r\n    let item = null\r\n    if(this.state.UserToken.authenticated)\r\n      item = (\r\n        <UserContext.Provider value = {\r\n          {logout : this.authenticateUser,\r\n          itemTab : this.updateSelectedTab,\r\n          updateSearch : this.updateSearch,\r\n          tabs : this.state.tabs,\r\n          currentSearch : this.state.currentSearch}}>\r\n              \r\n            <LoggedIn/>\r\n\r\n        </UserContext.Provider>);\r\n    \r\n    else     \r\n      item = (\r\n        <AuthContext.Provider value = {\r\n          {authenticated : this.state.UserToken.authenticated,\r\n          updateCred : this.updateCred,\r\n          authenticateUser : this.authenticateUser}}>\r\n            \r\n            <LoginBox/> \r\n\r\n        </AuthContext.Provider>);\r\n\r\n    return(\r\n      <Fragment>\r\n        {item}\r\n      </Fragment>\r\n    );\r\n\r\n  }\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}